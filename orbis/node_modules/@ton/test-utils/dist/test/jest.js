"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const transaction_1 = require("./transaction");
const comparisons_1 = require("./comparisons");
const exitCode_1 = require("./exitCode");
function extractResult(result) {
    return {
        pass: result.pass,
        message: () => {
            if (result.pass) {
                return result.negMessage();
            }
            else {
                return result.posMessage();
            }
        },
    };
}
function wrapComparer(comparer) {
    return function (actual, cmp) {
        const result = comparer(actual, cmp);
        if (result instanceof Promise) {
            return result.then(extractResult);
        }
        return extractResult(result);
    };
}
const toHaveTransaction = wrapComparer(transaction_1.compareTransactionForTest);
const toEqualCell = wrapComparer(comparisons_1.compareCellForTest);
const toEqualAddress = wrapComparer(comparisons_1.compareAddressForTest);
const toEqualSlice = wrapComparer(comparisons_1.compareSliceForTest);
const toThrowExitCode = wrapComparer(exitCode_1.compareThrownExitCodeForTest);
try {
    // eslint-disable-next-line @typescript-eslint/no-require-imports
    const jestGlobals = require('@jest/globals');
    if (jestGlobals)
        jestGlobals.expect.extend({
            toHaveTransaction,
            toEqualCell,
            toEqualAddress,
            toEqualSlice,
            toThrowExitCode,
        });
    // eslint-disable-next-line no-empty
}
catch (_) { }
