"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.readJsonl = void 0;
const fs_1 = require("fs");
const readline_1 = require("readline");
async function readJsonl(filePath) {
    const input = (0, fs_1.createReadStream)(filePath, { encoding: 'utf8' });
    const readLine = (0, readline_1.createInterface)({
        input,
        crlfDelay: Infinity,
    });
    const result = [];
    for await (const line of readLine) {
        if (!line.trim())
            continue;
        try {
            result.push(JSON.parse(line));
        }
        catch (_) {
            throw new Error(`Could not parse line: ${line}`);
        }
    }
    return result;
}
exports.readJsonl = readJsonl;
