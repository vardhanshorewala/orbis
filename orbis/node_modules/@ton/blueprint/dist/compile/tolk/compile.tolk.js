"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getTolkVersion = void 0;
exports.doCompileTolk = doCompileTolk;
const core_1 = require("@ton/core");
const tolk_js_1 = require("@ton/tolk-js");
async function doCompileTolk(config) {
    const res = await (0, tolk_js_1.runTolkCompiler)(config);
    if (res.status === 'error') {
        throw new Error(res.message);
    }
    return {
        lang: 'tolk',
        stderr: res.stderr,
        fiftCode: res.fiftCode,
        code: core_1.Cell.fromBase64(res.codeBoc64),
        snapshot: res.sourcesSnapshot.map((e) => ({
            filename: e.filename,
            content: e.contents,
        })),
        version: await (0, tolk_js_1.getTolkCompilerVersion)(),
    };
}
var tolk_js_2 = require("@ton/tolk-js");
Object.defineProperty(exports, "getTolkVersion", { enumerable: true, get: function () { return tolk_js_2.getTolkCompilerVersion; } });
