"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getAstFactoryFromStore = exports.setAstFactoryToStore = void 0;
const context_1 = require("../context/context");
const errors_1 = require("../error/errors");
const astFactoryStore = (0, context_1.createContextStore)();
const dummyFactoryStoreKey = "dummyFactoryStoreKey";
const setAstFactoryToStore = (ctx, ast) => {
    astFactoryStore.set(ctx, dummyFactoryStoreKey, ast);
};
exports.setAstFactoryToStore = setAstFactoryToStore;
const getAstFactoryFromStore = (ctx) => {
    const factory = astFactoryStore.get(ctx, dummyFactoryStoreKey);
    if (factory === null) {
        (0, errors_1.throwInternalCompilerError)("Ast factory store was not set");
    }
    return factory;
};
exports.getAstFactoryFromStore = getAstFactoryFromStore;
