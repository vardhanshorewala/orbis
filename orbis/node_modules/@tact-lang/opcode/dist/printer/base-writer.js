"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.BaseWriter = void 0;
class BaseWriter {
    lines = [];
    indentLevel = 0;
    currentLine = "";
    indent(handler) {
        this.indentLevel++;
        try {
            handler();
        }
        finally {
            this.indentLevel--;
        }
    }
    write(src) {
        this.currentLine += src;
    }
    newLine() {
        this.lines.push(" ".repeat(this.indentLevel * 2) + this.currentLine);
        this.currentLine = "";
    }
    writeLine(src) {
        this.lines.push(" ".repeat(this.indentLevel * 2) + this.currentLine + src);
        this.currentLine = "";
    }
    end() {
        if (this.currentLine !== "") {
            this.newLine();
        }
        return this.lines.join("\n");
    }
    lineLength() {
        return this.currentLine.length + this.indentLevel * 2;
    }
}
exports.BaseWriter = BaseWriter;
//# sourceMappingURL=base-writer.js.map